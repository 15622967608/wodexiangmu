"use strict";$(function(){$("#usernameID").blur(function(){/^[a-zA-Z]{2,6}$/.test($.trim($(this).val()))?($(this).parents(".username").removeClass("form-group-error"),$(this).siblings(".form-group__message").text("")):($(this).parents(".username").addClass("form-group-error"),$(this).siblings(".form-group__message").text("你输入的用户名不正确"))}),$("#phoneID").blur(function(){/^1[3-9]\d{9}$/.test($.trim($(this).val()))?($(this).parents(".phone").removeClass("form-group-error"),$(this).siblings(".form-group__message").text("")):($(this).parents(".phone").addClass("form-group-error"),$(this).siblings(".form-group__message").text("你输入的手机号不正确"))}),$("#passwordA").blur(function(){/^[0-9a-zA-z]{3,6}$/.test($.trim($(this).val()))?($(this).parents(".passwordA").removeClass("form-group-error"),$(this).siblings(".form-group__message").text("")):($(this).parents(".passwordA").addClass("form-group-error"),$(this).siblings(".form-group__message").text("你输入的密码不合规范"))}),$("#passwordB").blur(function(){var s=$.trim($("#passwordA").val());$.trim($(this).val())!=s?($(this).parents(".passwordB").addClass("form-group-error"),$(this).siblings(".form-group__message").text("两次输入的密码不一致")):($(this).parents(".passwordB").removeClass("form-group-error"),$(this).siblings(".form-group__message").text(""))}),new Captcha({lineNum:10,fontSize:30,dotNum:25,length:4}).draw(document.querySelector("#captcha"),function(s){console.log(s,"验证码1"),code=s.toUpperCase()}),$("#imageCode").blur(function(){$.trim($(this).val()).toUpperCase()!=code?($(this).parents(".image-code").addClass("form-group-error"),$(this).next(".form-group__message").text("请输入正确的图形验证码")):($(this).parents(".image-code").removeClass("form-group-error"),$(this).next(".form-group__message").text(""))}),$("#registerBtn").click(function(){$("#usernameID,#phoneID,#passwordA,#passwordB,#imageCode").trigger("blur"),0==$(".form-group-error").length?0!=$("#protocol").is(":checked")?$.ajax({type:"post",url:".././api/register.php",data:"username=".concat($("#usernameID").val(),"&password=").concat($("#passwordA").val(),"&phone=").concat($("#phoneID").val()),dataType:"json",success:function(s){"success"==s.status?window.location.href="https://www.jianke.com/":alert(s.data.msg)}}):alert("请阅读并同意协议！！！"):alert("请输入正确的信息!!!")})});